<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>BBFMM2D: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BBFMM2D
   &#160;<span id="projectnumber">3.1</span>
   </div>
   <div id="projectbrief">Black-box Fast Multipole Method in 2D</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>#BBFMM2D</p>
<p>This is the first public release of the BBFMM2D library. Date: July 24th, 2013</p>
<p><b>Version 3.1 - First external release.</b></p>
<p>%% Copyleft 2013: Sivaram Ambikasaran, Ruoxi Wang and Eric Darve<br/>
    %% Developed by Sivaram Ambikasaran, Ruoxi Wang <br/>
    %% Contact: <a href="#" onclick="location.href='mai'+'lto:'+'siv'+'a.'+'198'+'5@'+'gma'+'il'+'.co'+'m'; return false;">siva.<span style="display: none;">.nosp@m.</span>1985<span style="display: none;">.nosp@m.</span>@gmai<span style="display: none;">.nosp@m.</span>l.co<span style="display: none;">.nosp@m.</span>m</a> (Sivaram), <a href="#" onclick="location.href='mai'+'lto:'+'ruo'+'xi'+'@st'+'an'+'for'+'d.'+'edu'; return false;">ruoxi<span style="display: none;">.nosp@m.</span>@sta<span style="display: none;">.nosp@m.</span>nford<span style="display: none;">.nosp@m.</span>.edu</a> (Ruoxi)<br/>
    %% %% This program is free software; you can redistribute it and/or modify it under the terms of MPL2 license. <br/>
    %% The Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0. If a copy of the MPL was not %% distributed with this file, You can obtain one at <a href="http://mozilla.org/MPL/2.0/.">http://mozilla.org/MPL/2.0/.</a></p>
<h3>DIRECTORIES AND FILES:</h3>
<pre class="fragment">./examples/     :   Example input C++ codes; Needed to read input from user or from input file.  
./src/          :   Source code in C++  
./header/       :   Relevant header files  
./exec/         :   Executables for BBFMM2D  
./input/        :   The input file.  
./README.md     :   This file  
./License.md    :   License file  
./Makefile      :   Makefile
</pre><h3>SETTING THINGS UP:</h3>
<ol type="1">
<li>To run this package, you need to have <b>Eigen</b>.</li>
<li>Download Eigen from here: <a href="http://eigen.tuxfamily.org/index.php?title=Main_Page">http://eigen.tuxfamily.org/index.php?title=Main_Page</a></li>
<li>Create a directory named <code>Codes/</code> inside the main Eigen folder and copy the directory <code>BBFMM2D/</code> into the directory <code>Codes/</code>.</li>
<li>Open the Makefile, which is inside the folder BBFMM2D. Ensure that you have included the path to Eigen in the line containing <code>CFLAGS</code>. For instance, in the above setting, the path <code>"-I ./../../"</code> should be included in the Makefile.</li>
<li>Once you have this set up, you should be able to run the code. Check whether the code runs by performing the following action. Go to the directory where Makefile is in, then key in the following three commands in the terminal: <pre class="fragment"> make get_matrix_through_routine_standard_kernel
 cd exec/
 ./H2_2D_MVP_get_matrix_through_routine_standard_kernel
</pre></li>
</ol>
<p>The code should now run.</p>
<h3>CHANGING THE INPUTS:</h3>
<p>The files you have control over are the files inside the directory ./examples/, read through the files both must be self explanatory for the most part.</p>
<ol type="1">
<li><p class="startli">If you want to generate matrix through your own routine, and use the standard kernels:</p>
<p class="startli">Go to <code>/examples/</code>, open <code>"H2_2D_MVP_get_matrix_through_routine_standard_kernel.cpp"</code>.</p>
<ul>
<li><p class="startli">To generate matrix through routine:</p>
<p class="startli">Change <code>void get_Location(unsigned long&amp; N, vector&lt;<a class="el" href="struct_point.html" title="Point in 2 dimesion. ">Point</a>&gt;&amp; location)</code> and <code>void <a class="el" href="_h2__2_d___m_v_p__get__matrix__through__routine__standard__kernel_8cpp.html#a35a25d7ec48ecd8683efd8bb328aa2e6" title="Get charges. ">get_Charges(const unsigned long N, unsigned&amp; m, MatrixXd&amp; Htranspose)</a></code></p>
</li>
<li><p class="startli">To use standard kernels:</p>
<p class="startli">Select the kernel type in <code>main()</code>. Options of kernels: </p>
<pre class="fragment">  LOGARITHM:          kernel_Logarithm  
  ONEOVERR2:          kernel_OneOverR2  
  GAUSSIAN:           kernel_Gaussian  
  QUADRIC:            kernel_Quadric  
  INVERSEQUADRIC:     kernel_InverseQuadric  
  THINPLATESPLINE:    kernel_ThinPlateSpline 
</pre></li>
</ul>
</li>
<li><p class="startli">If you want to read matrix from text file, and use standard kernels:</p>
<p class="startli">Go to the folder <code>/input/</code>, put your input file inside of this folder.</p>
<p class="startli">Go to the folder <code>/examples/</code>, open <code>"H2_2D_MVP_input_from_file_standard_kernel.cpp"</code>.</p>
<ul>
<li><p class="startli">To change input filename:</p>
<p class="startli"><code>string filenameInput = "../input/test_input.txt"</code>;</p>
</li>
<li><p class="startli">To use standard kernels:</p>
<p class="startli">The same step as described in 1.</p>
</li>
</ul>
</li>
<li><p class="startli">If you want to generate matrix through your own routine, and use your own kernel:</p>
<p class="startli">Go to <code>/examples/</code>, open <code>"H2_2D_MVP_get_matrix_through_routine_myKernel.cpp"</code>.</p>
<ul>
<li><p class="startli">To define your own kernel:</p>
<p class="startli">Modify <code>class <a class="el" href="classmy_kernel.html" title="Define user&#39;s own kernel. ">myKernel</a></code>.</p>
</li>
<li><p class="startli">To generate your matrix:</p>
<p class="startli">The same step as described in 1.</p>
</li>
</ul>
</li>
<li><p class="startli">If you want to read matrix from text file, and use your own kernel:</p>
<p class="startli">Go to <code>/examples/</code>, open <code>"H2_2D_MVP_input_from_file_myKernel.cpp"</code>.</p>
<ul>
<li><p class="startli">To define your own kernel:</p>
<p class="startli">Modify <code>class <a class="el" href="classmy_kernel.html" title="Define user&#39;s own kernel. ">myKernel</a></code>.</p>
</li>
<li><p class="startli">To change input filename:</p>
<p class="startli">The same step as described in 2.</p>
</li>
</ul>
</li>
<li><p class="startli">If you want to read matrix from binary file, and use standard kernel:</p>
<p class="startli">Go to <code>/examples/</code>, open <code>"H2_2D_MVP_binary_file_standard_kernel.cpp"</code>.</p>
<ul>
<li><p class="startli">To change input filename:</p>
<p class="startli"><code>string filenameLocation = "../input/test_Location.bin";
</code> <br/>
    <code>string filenameH = "../input/test_H.bin";</code><br/>
    <code>string filenameMetadata = "../input/metadata.txt";</code> <br/>
    change them into your input filenames.</p>
</li>
<li><p class="startli">To use standard kernels:</p>
<p class="startli">The same step as described in 1. ;</p>
</li>
</ul>
</li>
<li><p class="startli">If you want to read matrix from binary file, and use your own kernel:</p>
<p class="startli">Go to <code>/examples/</code>, open <code>"H2_2D_MVP_binary_file_mykernel.cpp"</code>.</p>
<ul>
<li><p class="startli">To change the input filename:</p>
<p class="startli">The same step as described in 5.</p>
</li>
<li><p class="startli">To define your own kernel:</p>
<p class="startli">Modify <code>class <a class="el" href="classmy_kernel.html" title="Define user&#39;s own kernel. ">myKernel</a></code>.</p>
</li>
</ul>
</li>
</ol>
<h3>INPUT FILES</h3>
<p>Go to <code>/input/</code>, you should put your own input file in the input folder.</p>
<h4>TEXT FILES</h4>
<p>The file format is described as follows:</p>
<p>The first row should be like this:</p>
<p><code>Number of charges, Number of sets of charges</code></p>
<p>For example: </p>
<pre class="fragment">5000, 10
</pre><p>For the rest of the rows, it should start with locations, followed by a row in Htranspose matrix(elements should be separated using ','). If some element is 0, you can leave it as empty instead of 0. If all the elements in a row is 0, nothing need to be typed after the location.(spaces are allowed)</p>
<p>The row should look like this:</p>
<p><code>(location[0],location[1]) (elem1,elem2,elem3,elem4,…,elemn)</code></p>
<p>For example: </p>
<pre class="fragment">(-0.999984,-0.676221)       (0.480685,0.869803,-0.188232,0.548587,-0.771039,0.73709,0.126494)    
(0.869386,-0.5408)  
(0.0655345,0.891162) (-0.193033,,-0.0287383,,-0.520512,0.33891,)  
(0.342299,-0.246828) (0.0732668,,,,,,0.0951028)  
(-0.984604,-0.44417) (,0.782447,-0.867924,0.485731,-0.729282,-0.481031,0.541473)  
</pre><h4>BINARY FILES</h4>
<p>You should have 3 files:</p>
<ol type="1">
<li><p class="startli">A binary file for H matrix:</p>
<p class="startli">Elements of H is stored in binary file row-wise.</p>
</li>
<li><p class="startli">A binary file for Location:</p>
<p class="startli">Elements are stored this way(row-wise): </p>
<pre class="fragment">loc0.x loc0.y  
loc1.x loc1.y  
…
</pre></li>
<li><p class="startli">A text file for metadata:</p>
<p class="startli">The file format is like this:</p>
<p class="startli"><code>Number of charges, Number of sets of charges</code></p>
<p class="startli">For example: </p>
<pre class="fragment"> 5000, 10
</pre></li>
</ol>
<h3>RUNNING THE CODE:</h3>
<p>Here we give an example: If you want to use <code>"H2_2D_MVP_input_from_file_standard_kernel.cpp"</code></p>
<ol type="1">
<li>As stated earlier to run the code, go to the appropriate directory and key in the following: <pre class="fragment"> make input_from_file_standard_kernel
</pre></li>
<li>Make sure you have changed or cleaned the .o files from previous compilation. To clean the irrelevant files, key in: <pre class="fragment"> make clean
</pre></li>
<li>To tar the file, key in <pre class="fragment"> make tar
</pre></li>
<li>Read through the makefile for other options.</li>
</ol>
<p>To run other .cpp files:</p>
<p>1) <code><a class="el" href="_h2__2_d___m_v_p__get__matrix__through__routine__mykernel_8cpp.html" title="Input type : Through matrix generating routine; Types of kernel: kernel defined by user...">H2_2D_MVP_get_matrix_through_routine_myKernel.cpp</a></code> key in: </p>
<pre class="fragment"> make get_matrix_through_routine_myKernel   
</pre><p>2) <code><a class="el" href="_h2__2_d___m_v_p__get__matrix__through__routine__standard__kernel_8cpp.html" title="Input type : Through matrix generating routine; Types of kernel: standard kernels. ">H2_2D_MVP_get_matrix_through_routine_standard_kernel.cpp</a></code> key in: </p>
<pre class="fragment"> make get_matrix_through_routine_standard_kernel
</pre><p>3) <code><a class="el" href="_h2__2_d___m_v_p__input__from__file__mykernel_8cpp.html" title="Input type : Text file; Types of kernel: kernel defined by user. ">H2_2D_MVP_input_from_file_myKernel.cpp</a></code> key in: </p>
<pre class="fragment"> make input_from_file_myKernel 
</pre><p> 4) <code><a class="el" href="_h2__2_d___m_v_p__binary__file__mykernel_8cpp.html" title="Input type : Binary file; Types of kernel: kernel defined by user. ">H2_2D_MVP_binary_file_mykernel.cpp</a></code> key in: </p>
<pre class="fragment"> make binary_file_mykernel
</pre><p> 5) <code><a class="el" href="_h2__2_d___m_v_p__binary__file__standard__kernel_8cpp.html" title="Input type : Binary file; Types of kernel: standard kernels. ">H2_2D_MVP_binary_file_standard_kernel.cpp</a></code> key in: </p>
<pre class="fragment"> make binary_file_standard_kernel</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Aug 7 2013 14:45:35 for BBFMM2D by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
